<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Harper LaFond">
<meta name="dcterms.date" content="2023-05-31">
<meta name="description" content="How to Use Pix4Dmapper to Stitch Drone Images (RE-mx drones only)">

<title>Stitching with Pix4Dmapper</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html">
 <span class="menu-text">About the Washburn Lab</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#instructions" id="toc-instructions" class="nav-link active" data-scroll-target="#instructions">Instructions:</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Stitching with Pix4Dmapper</h1>
</div>

<div>
  <div class="description">
    How to Use Pix4Dmapper to Stitch Drone Images (RE-mx drones only)
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Harper LaFond </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 31, 2023</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">June 1, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="instructions" class="level2">
<h2 class="anchored" data-anchor-id="instructions">Instructions:</h2>
<p>How to Use Pix4Dmapper to Stitch Drone Images (Micasense Camera ‚Äì 10 Band (RE-mx))</p>
<ol type="1">
<li><p>Pix4Dmapper is installed on the lambda2 in the dry lab (NOT the Linux lambda)</p></li>
<li><p>Check what flights need to be stitched on the To Be Stitched List_2022: Teams &gt; UAV Missions &gt; Files</p></li>
<li><p>Launch Pix4Dmapper on desktop</p></li>
<li><p>Select New Project with Camera Rigs</p>
<ol type="a">
<li>Name file FlightDate(YYMMDD)_camera(RE-mx)_FieldName_Pix4D</li>
<li>Create In: This PC &gt; Desktop &gt; Pix4D &gt; 2022 Fields &gt; ‚ÄúYour Field Name‚Äù &gt; 1 Folder called FlightDate(YYMMDD)_drone(RE-mx)_FieldName_Pix4D</li>
</ol></li>
<li><p>Select Images, Click the Add Images‚Ä¶ button, file explorer will open.</p>
<ol type="a">
<li>Navigate to This PC &gt; wldata (Under Network locations) &gt; Field_Data_2022 &gt; UAV_images_by_field_2022 &gt; Select a Field &gt; Select a folder by Date (YYMMDD) and drone type (RE-mx only)</li>
<li>You‚Äôll see 10 folders, you will add all the images from all the folders</li>
<li>Ctrl + A to select all of the JPGs in the folder, Click Open (images will be selected, green check will appear) then Click Next &gt;</li>
</ol></li>
<li><p>Define the Camera Rig</p>
<ol type="a">
<li>Ensure the Rig Model selected is RedEdge-M, parameters are saved, Click Next &gt;</li>
</ol></li>
<li><p>Keep default Image Properties, Click Next &gt;</p></li>
<li><p>Keep default settings of Select Output Coordinate System, Click Next &gt;</p></li>
<li><p>Processing Options Template will open, under Standard select Ag Multispectral (Do not check the box next to Start Processing), Click Finish</p></li>
<li><p>After the map loads, Import the GCPs</p>
<ol type="a">
<li>Select the Project tab</li>
<li>Select GCP/MTP Manager‚Ä¶, the GCP Manager Window will open</li>
<li>In the GCP Coordinate System click the Edit‚Ä¶ button, the Select GCP Coordinate System window will open</li>
<li>Check the Advanced Coordinate Options box</li>
</ol>
<!-- -->
<ol start="2" type="i">
<li>Click the From List‚Ä¶ button under the Known Coordinate System [m] search bar, Coordinate System window will open</li>
<li>Select the following from the dropdown lists 1. Datum: WGS 1984 <img src="Picture1.png" class="img-fluid"> 2. Coordinate System: WGS 84 (Top of list, look for the globe<br>
</li>
<li>In the GCP/MTP Table click the Import GCPs‚Ä¶ button, the Import Ground Control Points window will open</li>
<li>Coordinates order: Longitude, Latitude, Altitude</li>
<li>Click Browse‚Ä¶, navigate to This PC &gt; Desktop &gt; Pix4D &gt; 2022 Fields &gt; GCPs &gt; Select your field‚Äôs .txt file, Click Open, Click OK, Click OK. The GCPs will appear as blue crosses on the map</li>
</ol>
<!-- -->
<ol start="5" type="a">
<li>Save Project!</li>
</ol></li>
<li><p>Initial Processing</p>
<ol type="a">
<li>Click the Processing tab on the bottom left side of the window, check the box next to 1. Initial Processing (ensure other boxes are unchecked)</li>
<li>Accept Default options, Start Processing (~30 min)</li>
</ol></li>
<li><p>Marking GCPs</p>
<ol type="a">
<li>After initial processing switch to rayCloud view on the left side of the Pix4D Window, Click on the blue GCP marker and Images will open up on the right (I like to uncheck Cameras and Rays for a cleaner map)</li>
<li>You can press hold down to move around the images and zoom in and out to find the GCP (they may not be in every image, that‚Äôs ok)</li>
<li>Click on the center of the GCP to mark it, repeat on 8-15 images. Do this for each GCP.</li>
<li>In the Selection panel above the Image panel, Click the Apply button occasionally to update and mark the GCPs</li>
<li>Select the Process tab at the top of the window</li>
<li>Select Reoptimize (this will take about 10 minutes), a Warning will come up, Click OK</li>
</ol>
<!-- -->
<ol start="2" type="i">
<li>Generate a new Quality Report by Clicking the Process tab and Selecting Generate Quality Report (this will take about 15 minutes). Ensure there are green checks next to the 5 parameters in the Quality Check (if not, troubleshoot w/ help from the Pix4D website)</li>
</ol>
<!-- -->
<ol start="6" type="a">
<li>Save Project!</li>
</ol></li>
<li><p>Point Cloud and Mesh and DSM, Orthomosaic and Index</p>
<ol type="a">
<li>Check the box next to 2. Point Cloud and Mesh and 3. DSM, Orthomsaic and Index in the processing window (be sure to uncheck the previous step so Pix4D doesn‚Äôt rerun and take even longer),</li>
<li>Click Processing Options for step 3. DSM, Orthomosaic and Index</li>
<li>Go to the Index Calculator tab to calibrate the 10 bands</li>
</ol>
<!-- -->
<ol start="2" type="i">
<li>Select the drop down box next to the Correction Type: and select Camera and Sun Irradiance</li>
<li>Click Calibrate, the calibration image will open a blue box will appear on. Move the box corners to each corner of the square on the calibration panel (if the auto selected image isn‚Äôt good quality/shadows/etc. you can Browse at the top of the window and select a better image)</li>
<li>Enter these reflectance factors into each camera 1. Blue ‚Äì 0.54011 2. Green ‚Äì 0.54109 3. Red ‚Äì 0.53888 4. NIR ‚Äì 0.53488 5. RedEdge ‚Äì 0.53795 6. Blue 444 ‚Äì 0.53983 7. Green 531 ‚Äì 0.54076 8. Red 650 ‚Äì 0.53960 9. RedEdge 705 ‚Äì 0.53825 10. RedEdge 740 ‚Äì 0.53700</li>
</ol></li>
</ol>
<!-- -->
<ol start="3" type="a">
<li>Accept all other default settings and Start processing steps 2. and 3. (~1.5 hrs)</li>
<li>Save Project, update To Be Stitched List! üòä</li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>